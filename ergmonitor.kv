#:kivy 1.0.9
#:import label kivy.uix.label
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import MeshLinePlot kivy.garden.graph.MeshLinePlot


<Row@BoxLayout>:
    canvas.before:
        Color:
            rgba: 230/255, 230/255, 230/255, 1
        Rectangle:
            size: self.size
            pos: self.pos
    time: ''
    dist: ''
    avg_split: ''
    erg: ''
    Label:
        font_name: 'fonts/OpenSans-Light'
        size_hint_x: 0.15
        color: 0,0,0,1
        text: root.erg
    Label:
        font_name: 'fonts/OpenSans-Light'
        size_hint_x: 0.3
        color: 0,0,0,1
        text: root.time
    Label:
        font_name: 'fonts/OpenSans-Light'
        size_hint_x: 0.25
        color: 0,0,0,1
        text: root.dist
    Label:
        font_name: 'fonts/OpenSans-Light'
        size_hint_x: 0.3
        color: 0,0,0,1
        text: root.avg_split

<ErgGraph>:
    size_hint: None, None
    size: 400, 400
    graph: graph
    ergNum: ergNum


    Label:
        id: ergNum
        color: 0,0,0,1
        font_size: 30
        top: self.parent.top
        x: self.parent.x
        font_name: 'fonts/OpenSans-Light'
        text: 'Erg1'

    Graph:
        id: graph
        plot: MeshLinePlot
        xlabel:'Time'
        ylabel:'Rate/Split'
        x_ticks_minor:5
        x_tics_major:25
        y_ticks_major:1
        y_grid_label:True
        x_grid_label:True
        padding:5
        x_grid:True
        y_grid:True
        xmin:-0
        xmax:100
        ymin:-1
        ymax:1
        size_hint: None, None
        size: 325, 325
        x: self.parent.x
        top: self.parent.top - 75

<GraphScreen>:
    erg1: erg_1
    erg2: erg_2
    erg3: erg_3
    erg4: erg_4
    erg5: erg_5
    erg6: erg_6
    erg7: erg_7
    erg8: erg_8

    canvas:
        Color:
            rgba: 38/255,38/255,38/255,1
        Rectangle:
            pos: 0,0
            size: 110,1500

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.9}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/console.png'
        background_down: 'images/console2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'monitor'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.8}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/database.png'
        background_down: 'images/database2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'scores'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.05}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/settings.png'
        background_down: 'images/settings2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'settings'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.7}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/graph3.png'
        background_down: 'images/graph3.png'

    Label:
        color: 0,0,0,1
        font_size: 40
        pos_hint: {'x': -0.35, 'y': 0.445}
        font_name: 'fonts/OpenSans-Regular'
        text: 'Erg Graphs'

    ErgGraph:
        id: erg_1
        pos_hint: {'x': 0.1, 'y': 0.50}
    ErgGraph:
        id: erg_2
        pos_hint: {'x': 0.32, 'y': 0.50}
    ErgGraph:
        id: erg_3
        pos_hint: {'x': 0.53, 'y': 0.50}
    ErgGraph:
        id: erg_4
        pos_hint: {'x': 0.74, 'y': 0.50}
    ErgGraph:
        id: erg_5
        pos_hint: {'x': 0.1, 'y': 0.20}
    ErgGraph:
        id: erg_6
        pos_hint: {'x': 0.32, 'y': 0.20}
    ErgGraph:
        id: erg_7
        pos_hint: {'x': 0.53, 'y': 0.20}
    ErgGraph:
        id: erg_8
        pos_hint: {'x': 0.74, 'y': 0.20}

    Button:
        size_hint: None, None
        pos_hint: {'x': 0.8, 'y': 0.2}
        size: 300,100
        font_name: 'fonts/OpenSans-Light'
        text: 'Save Graph Data'
        on_release: self.parent.save_graph()



<Erg>:
    size_hint: None, None
    size: 200, 100
    lspeed: lspeed
    lrate: lrate
    lsplit: lsplit
    ldist: ldist
    limg: limg
    lname: lname
    AsyncImage:
        id: limg
        top: self.parent.top
        x: dp(100)
        source: 'images/erg_offline.png'
    TextInput:
        id: lname
        color: 0,0,0,1
        font_size: 30
        top: self.parent.top-dp(10)
        x: dp(160)
        font_name: 'fonts/OpenSans-Light'
        text: ''
        size: 200,50
    Label:
        color: 0,0,0,1
        id: lspeed
        font_size: 30
        top: self.parent.top
        x: dp(300)
        font_name: 'fonts/OpenSans-Light'
        text: ''
    Label:
        color: 0,0,0,1
        id: lrate
        font_size: 30
        top: self.parent.top
        x: dp(390)
        font_name: 'fonts/OpenSans-Light'
        text: ''
    Label:
        color: 0,0,0,1
        id: lsplit
        font_size: 30
        top: self.parent.top
        x: dp(470)
        font_name: 'fonts/OpenSans-Light'
        text: ''
    Label:
        color: 0,0,0,1
        id: ldist
        font_size: 30
        top: self.parent.top
        x: dp(580)
        font_name: 'fonts/OpenSans-Light'
        text: ''

<Settings>:
    erg1: erg_1
    erg2: erg_2
    erg3: erg_3
    erg4: erg_4
    erg5: erg_5
    erg6: erg_6
    erg7: erg_7
    erg8: erg_8
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
    canvas:
        Color:
            rgba: 38/255,38/255,38/255,1
        Rectangle:
            pos: 0,0
            size: 110,1500

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.9}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/console.png'
        background_down: 'images/console2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'monitor'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.8}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/database.png'
        background_down: 'images/database2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'scores'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.05}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/settings3.png'
        background_down: 'images/settings3.png'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.7}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/graph.png'
        background_down: 'images/graph2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'graph'

    Label:
        color: 0,0,0,1
        font_size: 40
        pos_hint: {'x': -0.27, 'y': 0.445}
        font_name: 'fonts/OpenSans-Regular'
        text: 'Settings'

    Label:
        color: 0,0,0,1
        pos_hint: {'x': -0.35, 'y': 0.37}
        font_size: 36
        font_name: 'fonts/OpenSans-Regular'
        text: 'Erg IDs'

    TextInput:
        id: erg_1
        pos_hint: {'x': 0.1, 'y': 0.78}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg1']

    TextInput:
        id: erg_2
        pos_hint: {'x': 0.1, 'y': 0.71}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg2']

    TextInput:
        id: erg_3
        pos_hint: {'x': 0.1, 'y': 0.64}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg3']

    TextInput:
        id: erg_4
        pos_hint: {'x': 0.1, 'y': 0.57}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg4']

    TextInput:
        id: erg_5
        pos_hint: {'x': 0.1, 'y': 0.50}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg5']


    TextInput:
        id: erg_6
        pos_hint: {'x': 0.1, 'y': 0.43}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg6']


    TextInput:
        id: erg_7
        pos_hint: {'x': 0.1, 'y': 0.36}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg7']


    TextInput:
        id: erg_8
        pos_hint: {'x': 0.1, 'y': 0.29}
        size_hint_x: 0.3
        size_hint_y: 0.05
        text: app.savedict['erg8']

    Button:
        size_hint: None, None
        pos_hint: {'x': 0.8, 'y': 0.1}
        size: 300,100
        font_name: 'fonts/OpenSans-Light'
        text: 'Save Settings'
        on_release: app.save()


<WorkoutScores>:
    tableList: tableList

    canvas:
        Color:
            rgba: 38/255,38/255,38/255,1
        Rectangle:
            pos: 0,0
            size: 110,1500

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.9}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/console.png'
        background_down: 'images/console2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'monitor'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.8}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/database3.png'
        background_down: 'images/database3.png'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.05}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/settings.png'
        background_down: 'images/settings2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'settings'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.7}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/graph.png'
        background_down: 'images/graph2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'graph'

    Label:
        color: 0,0,0,1
        font_size: 40
        pos_hint: {'x': -0.27, 'y': 0.445}
        font_name: 'fonts/OpenSans-Regular'
        text: 'Completed Workouts'

    Button:
        size_hint: None, None
        pos_hint: {'x': 0.8, 'y': 0.9}
        size: 300,100
        font_name: 'fonts/OpenSans-Light'
        text: 'Upload to sheets'
        on_release: app.upload()

    RecycleView:
        size_hint: None,None
        pos_hint: {'x': 0.11, 'y': 0}
        id: tableList
        scroll_type: ['bars', 'content']
        scroll_wheel_distance: dp(114)
        bar_width: dp(10)
        viewclass: 'Row'
        size: 1000,1000
        RecycleBoxLayout:
            cols:3
            default_size: None, dp(30)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'
            spacing: 1

<ErgMonitorBase>:
    erg1: erg_1
    erg2: erg_2
    erg3: erg_3
    erg4: erg_4
    erg5: erg_5
    erg6: erg_6
    erg7: erg_7
    erg8: erg_8

    canvas:
        Color:
            rgba: 38/255,38/255,38/255,1
        Rectangle:
            pos: 0,0
            size: 110,1500

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.9}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/console3.png'
        background_down: 'images/console3.png'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.8}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/database.png'
        background_down: 'images/database2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'scores'
    Button:
        pos_hint: {'x': 0.0105, 'y': 0.05}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/settings.png'
        background_down: 'images/settings2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'settings'

    Button:
        pos_hint: {'x': 0.0105, 'y': 0.7}
        size_hint: None, None
        size: 75,75
        border: 0,0,0,0
        background_normal: 'images/graph.png'
        background_down: 'images/graph2.png'
        on_release:
            root.manager.transition.direction = 'left'
            root.manager.current = 'graph'

    Label:
        color: 0,0,0,1
        font_size: 40
        pos_hint: {'x': -0.35, 'y': 0.445}
        font_name: 'fonts/OpenSans-Regular'
        text: 'Erg Status'
    Erg:
        id: erg_1
        top: root.top-dp(70)
    Erg:
        id: erg_2
        top: root.top-dp(120)
    Erg:
        id: erg_3
        top: root.top-dp(170)
    Erg:
        id: erg_4
        top: root.top-dp(220)
    Erg:
        id: erg_5
        top: root.top-dp(270)
    Erg:
        id: erg_6
        top: root.top-dp(320)
    Erg:
        id: erg_7
        top: root.top-dp(370)
    Erg:
        id: erg_8
        top: root.top-dp(420)
